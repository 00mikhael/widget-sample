"use strict";(this.webpackChunkLAWMAai=this.webpackChunkLAWMAai||[]).push([[150],{2150:(t,e,n)=>{n.r(e),n.d(e,{default:()=>I});var a=n(6540),r=n(5238),l=n(4848);const s=t=>{let{onClose:e,onClearChat:n,isFullscreen:s,onToggleFullscreen:w,name:i}=t;const o=function(){const[t,e]=(0,a.useState)(navigator.onLine);return(0,a.useEffect)((()=>{const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t),window.addEventListener("offline",n),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}),[]),t}();return(0,l.jsxs)("div",{className:"tw-flex tw-items-center tw-justify-between tw-bg-gradient-to-r tw-from-[var(--chat-primary-color)] tw-to-[var(--chat-primary-darker)] tw-p-4 tw-text-white tw-shadow-md tw-relative tw-z-10",children:[(0,l.jsx)("div",{className:"tw-flex tw-items-center tw-gap-2",children:(0,l.jsxs)("div",{className:"tw-flex tw-items-center",children:[(0,l.jsx)("div",{className:`tw-w-2 tw-h-2 tw-rounded-full ${o?"tw-bg-green-400":"tw-bg-red-500"} tw-animate-pulse tw-mr-2`,title:o?"Online":"Offline"}),(0,l.jsx)("h3",{id:"chat-widget-title",className:"tw-font-semibold",children:i})]})}),(0,l.jsxs)("div",{className:"tw-flex tw-gap-2",children:[(0,l.jsx)("button",{onClick:n,className:"tw-flex tw-items-center tw-justify-center tw-w-9 tw-h-9 tw-rounded-3xl hover:tw-scale-110 hover:primary-darken tw-transition-all tw-duration-200 tw-transform active:tw-scale-95","aria-label":"Clear chat history",children:(0,l.jsx)(r.op0,{size:20,className:"tw-text-red-500"})}),(0,l.jsx)("button",{onClick:w,className:"tw-flex tw-items-center tw-justify-center tw-w-9 tw-h-9 tw-rounded-3xl tw-text-gray-300 hover:primary-darken hover:tw-scale-110 tw-transition-all tw-duration-200 tw-transform active:tw-scale-95","aria-label":s?"Exit fullscreen":"Enter fullscreen",children:s?(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1",stroke:"currentColor",className:"tw-w-5 tw-h-5",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 9V4.5M9 9H4.5M15 9V4.5M15 9H19.5M9 15v4.5M9 15H4.5M15 15v4.5M15 15H19.5"})}):(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1",stroke:"currentColor",className:"tw-w-5 tw-h-5",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75h-4.5m4.5 0v4.5m0-4.5L15 9m5.25 11.25h-4.5m4.5 0v-4.5m0 4.5L15 15"})})}),(0,l.jsx)("button",{onClick:e,className:"tw-flex tw-items-center tw-justify-center tw-w-9 tw-h-9 tw-rounded-3xl tw-text-gray-300 hover:primary-darken hover:tw-scale-110 tw-transition-all tw-duration-200 tw-transform active:tw-scale-95","aria-label":"Close chat widget",children:(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"tw-w-5 tw-h-5",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]})]})};var w,i,o=n(384),c=n(2902),d=n(7507),m=["title","titleId"];function h(){return h=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)({}).hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},h.apply(null,arguments)}var u=function(t,e){var n=t.title,r=t.titleId,l=function(t,e){if(null==t)return{};var n,a,r=function(t,e){if(null==t)return{};var n={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(-1!==e.indexOf(a))continue;n[a]=t[a]}return n}(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)n=l[a],-1===e.indexOf(n)&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}(t,m);return a.createElement("svg",h({xmlns:"http://www.w3.org/2000/svg",width:25,height:25,fill:"none",ref:e,"aria-labelledby":r},l),n?a.createElement("title",{id:r},n):null,w||(w=a.createElement("g",{clipPath:"url(#arrow-follow-up_svg__a)"},a.createElement("path",{fill:"#000",d:"M.73 13.074a.775.775 0 0 1-.73-.807l.02-.385a8.46 8.46 0 0 1 8.45-8.037h10.305l-2.76-2.509A.773.773 0 0 1 15.964.25a.773.773 0 0 1 1.086-.053l4.23 3.845a.77.77 0 0 1 0 1.135l-4.23 3.845a.768.768 0 1 1-1.033-1.14l2.759-2.499H8.469a6.92 6.92 0 0 0-6.912 6.576l-.019.384a.77.77 0 0 1-.808.731m23.15-1.538c.422.02.75.384.73.807l-.02.385a8.46 8.46 0 0 1-8.45 8.037H5.836l2.76 2.509a.773.773 0 0 1 .052 1.086.773.773 0 0 1-1.086.053l-4.23-3.845a.77.77 0 0 1 0-1.135l4.23-3.845a.768.768 0 1 1 1.033 1.14l-2.759 2.499H16.14a6.92 6.92 0 0 0 6.912-6.576l.02-.384a.77.77 0 0 1 .807-.731"}))),i||(i=a.createElement("defs",null,a.createElement("clipPath",{id:"arrow-follow-up_svg__a"},a.createElement("path",{fill:"#fff",d:"M0 0h24.61v24.61H0z"})))))};const g=(0,a.forwardRef)(u);var v,f=["title","titleId"];function p(){return p=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)({}).hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},p.apply(null,arguments)}var x=function(t,e){var n=t.title,r=t.titleId,l=function(t,e){if(null==t)return{};var n,a,r=function(t,e){if(null==t)return{};var n={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(-1!==e.indexOf(a))continue;n[a]=t[a]}return n}(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)n=l[a],-1===e.indexOf(n)&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}(t,f);return a.createElement("svg",p({xmlns:"http://www.w3.org/2000/svg",width:25,height:25,fill:"none",ref:e,"aria-labelledby":r},l),n?a.createElement("title",{id:r},n):null,v||(v=a.createElement("path",{fill:"#000",d:"M21.778.781c0-.43-.35-.781-.778-.781a.78.78 0 0 0-.778.781v1.953h-1.944a.782.782 0 0 0 0 1.563h1.944V6.25c0 .43.35.781.778.781a.78.78 0 0 0 .778-.781V4.297h1.944a.782.782 0 0 0 0-1.563h-1.944zM12.444 5.86c-.364 0-.729.079-1.06.23L.818 10.845a1.388 1.388 0 0 0 0 2.529l10.568 4.76a2.57 2.57 0 0 0 2.12 0l10.567-4.76a1.388 1.388 0 0 0 0-2.53L13.504 6.09a2.6 2.6 0 0 0-1.06-.23m-.427 1.656c.136-.059.277-.093.427-.093q.225 0 .428.093l10.209 4.594-10.209 4.595a1.1 1.1 0 0 1-.428.093 1 1 0 0 1-.427-.093L1.813 12.11l10.208-4.594zm-8.97 8.574-2.23 1.006a1.388 1.388 0 0 0 0 2.529l10.568 4.76a2.57 2.57 0 0 0 2.12 0l10.567-4.76a1.388 1.388 0 0 0 0-2.53l-2.231-1.005-1.9.854 3.135 1.416-10.209 4.595a1.1 1.1 0 0 1-.427.093 1 1 0 0 1-.428-.093L1.813 18.36l3.136-1.41z"})))};const y=(0,a.forwardRef)(x);var b,N,M=["title","titleId"];function k(){return k=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)({}).hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},k.apply(null,arguments)}var C=function(t,e){var n=t.title,r=t.titleId,l=function(t,e){if(null==t)return{};var n,a,r=function(t,e){if(null==t)return{};var n={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(-1!==e.indexOf(a))continue;n[a]=t[a]}return n}(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)n=l[a],-1===e.indexOf(n)&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}(t,M);return a.createElement("svg",k({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",ref:e,"aria-labelledby":r},l),n?a.createElement("title",{id:r},n):null,b||(b=a.createElement("g",{clipPath:"url(#arrow_svg__a)"},a.createElement("path",{fill:"#202A37",d:"M0 12a12 12 0 1 0 24 0 12 12 0 0 0-24 0m17.25 3c0 .623-.502 1.125-1.125 1.125A1.12 1.12 0 0 1 15 15v-4.41l-6.328 6.332a1.125 1.125 0 0 1-1.59-1.59l6.329-6.327L8.625 9A1.12 1.12 0 0 1 7.5 7.875c0-.623.502-1.125 1.125-1.125h7.5c.623 0 1.125.502 1.125 1.125z"}))),N||(N=a.createElement("defs",null,a.createElement("clipPath",{id:"arrow_svg__a"},a.createElement("path",{fill:"#fff",d:"M0 0h24v24H0z"})))))};const L=(0,a.forwardRef)(C),j=t=>{let{questions:e,handleSendMessage:n,title:a="Popular Questions",variant:r="primary"}=t;const s="follow-up"===r;return(0,l.jsxs)("div",{className:`\n      tw-mt-4 tw-space-y-2 tw-divide-y tw-divide-gray-100\n      ${s?"tw-mt-2":""}\n    `,children:[(0,l.jsxs)("div",{className:"tw-flex tw-items-center tw-gap-2",children:[(0,l.jsx)("div",{className:"tw-flex tw-justify-center tw-items-center",children:s?(0,l.jsx)(g,{}):(0,l.jsx)(y,{})}),(0,l.jsx)("div",{className:`\n          tw-w-full tw-text-gray-900\n          ${s?"tw-text-base":"tw-text-lg"}\n        `,children:a})]}),(0,l.jsx)("div",{className:"tw-flex tw-flex-wrap tw-justify-center tw-gap-3 tw-pt-3",children:e.map(((t,e)=>(0,l.jsxs)("button",{onClick:()=>n(t),className:`\n              tw-px-4 tw-py-2 tw-bg-[#F7F9FB] tw-text-[#5D636E] tw-rounded-md\n              tw-text-xs tw-w-full tw-max-w-[21.5rem] tw-text-left\n              tw-flex tw-justify-between tw-items-center tw-gap-4\n              ${s?"tw-bg-white tw-border tw-border-gray-100":""}\n            `,children:[(0,l.jsx)("span",{children:t}),(0,l.jsx)("div",{className:"tw-flex tw-justify-center tw-items-center",children:(0,l.jsx)(L,{})})]},e)))})]})},S=t=>{let{content:e,isStreaming:n,isUser:a,typedElementRef:r}=t;const s=(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return(0,l.jsx)("div",{className:"tw-flex tw-flex-col tw-w-full "+(a?"tw-items-end":""),children:(0,l.jsxs)("div",{className:`\n        tw-max-w-[80%] tw-relative\n        tw-rounded-2xl\n        tw-text-gray-900\n        tw-transition-all tw-duration-200\n        hover:tw-shadow-md message-content\n        tw-text-sm tw-px-4 tw-py-2\n        tw-flex tw-flex-col tw-gap-3\n        ${a?"tw-bg-gray-50 hover:tw-bg-gray-100 user-message":"ai-message"}\n      `,children:[!a&&n&&r?(0,l.jsx)("div",{className:"tw-text-gray-800 typing-container",children:(0,l.jsx)("span",{ref:r,className:"typed-text"})}):(0,l.jsx)("div",{className:"tw-text-gray-800",dangerouslySetInnerHTML:{t:(0,d.vY)(e)}}),(0,l.jsx)("div",{className:"message-timestamp-hover "+(a?"tw-right-4":"tw-left-4"),children:s})]})})},_=t=>{let{content:e,options:n,onSelect:a,isUser:r=!1}=t;const s=(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return(0,l.jsxs)("div",{className:"tw-flex tw-flex-col tw-w-full "+(r?"tw-items-end":""),children:[e&&(0,l.jsx)("div",{className:`\n          tw-max-w-[80%] tw-relative\n          tw-rounded-2xl\n          tw-text-gray-900\n          tw-transition-all tw-duration-200\n          hover:tw-shadow-md message-content\n          tw-text-sm tw-px-4 tw-py-2\n          tw-flex tw-flex-col tw-gap-3\n          ${n?.length?"tw-mb-1":""}\n          ${r?"tw-bg-gray-50 hover:tw-bg-gray-100 user-message":"ai-message"}\n        `,children:(0,l.jsx)("div",{className:"tw-text-gray-800",dangerouslySetInnerHTML:{t:(0,d.vY)(e)}})}),n&&n.length>0&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"tw-max-w-[80%]",children:(0,l.jsx)("div",{className:"tw-flex tw-flex-col tw-gap-2",children:n.map(((t,e)=>(0,l.jsx)("button",{onClick:()=>a(t),className:"tw-w-full tw-text-center tw-py-3 tw-px-4 tw-bg-white tw-rounded-full tw-shadow-sm hover:tw-shadow-md tw-transition-shadow",children:t},e)))})}),(0,l.jsxs)("div",{className:"tw-flex tw-items-center tw-gap-1 tw-my-2 tw-text-xs tw-text-gray-500 tw-transition-opacity tw-duration-200 tw-opacity-75 hover:tw-opacity-100",children:[(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"tw-w-4 tw-h-4",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9 5.25h.008v.008H12v-.008z"})}),(0,l.jsx)("span",{children:"Options available"})]})]}),(0,l.jsx)("div",{className:"message-timestamp-hover "+(r?"tw-right-4":"tw-left-4"),children:s})]})},U=t=>{let{content:e,mediaUrl:n,isUser:a=!1}=t;const r=(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return(0,l.jsxs)("div",{className:"tw-flex tw-flex-col tw-w-full "+(a?"tw-items-end":""),children:[e&&(0,l.jsx)("div",{className:`\n          tw-max-w-[80%] tw-relative\n          tw-rounded-2xl\n          tw-text-gray-900\n          tw-transition-all tw-duration-200\n          hover:tw-shadow-md message-content\n          tw-text-sm tw-px-4 tw-py-2\n          tw-flex tw-flex-col tw-gap-3\n          tw-mb-1\n          ${a?"tw-bg-gray-50 hover:tw-bg-gray-100 user-message":"ai-message"}\n        `,children:(0,l.jsx)("div",{className:"tw-text-gray-800 ",dangerouslySetInnerHTML:{t:(0,d.vY)(e)}})}),n&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{children:(0,l.jsx)("div",{className:"tw-flex tw-justify-center tw-items-center tw-h-[200px] tw-rounded-lg tw-overflow-hidden tw-shadow-lg",children:(0,l.jsx)("img",{src:n,alt:"Image",className:"tw-object-contain tw-max-h-[200px] tw-w-auto tw-rounded-lg",loading:"lazy"})})}),(0,l.jsxs)("div",{className:"tw-flex tw-items-center tw-gap-1 tw-my-2 tw-text-xs tw-text-gray-500 tw-transition-opacity tw-duration-200 tw-opacity-75 hover:tw-opacity-100",children:[(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"tw-w-4 tw-h-4",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})}),(0,l.jsx)("span",{children:"Image attached"})]})]}),(0,l.jsx)("div",{className:"message-timestamp-hover "+(a?"tw-right-4":"tw-left-4"),children:r})]})},z=t=>{let{content:e,mediaUrl:n,isUser:a=!1}=t;const r=(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return(0,l.jsxs)("div",{className:"tw-flex tw-flex-col tw-w-full "+(a?"tw-items-end":""),children:[e&&(0,l.jsx)("div",{className:`\n          tw-max-w-[80%] tw-relative\n          tw-rounded-2xl\n          tw-text-gray-900\n          tw-transition-all tw-duration-200\n          hover:tw-shadow-md message-content\n          tw-text-sm tw-px-4 tw-py-2\n          tw-flex tw-flex-col tw-gap-3\n          tw-mb-1\n          ${a?"tw-bg-gray-50 hover:tw-bg-gray-100 user-message":"ai-message"}\n        `,children:(0,l.jsx)("div",{className:"tw-text-gray-800 ",dangerouslySetInnerHTML:{t:(0,d.vY)(e)}})}),n&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{children:(0,l.jsx)("div",{className:"tw-flex tw-justify-center tw-items-center tw-h-[200px] tw-rounded-lg tw-overflow-hidden tw-shadow-lg",children:(0,l.jsxs)("video",{controls:!0,preload:"metadata",className:"tw-object-contain tw-max-h-[200px] tw-w-auto tw-rounded-lg",controlsList:"nodownload",playsInline:!0,children:[(0,l.jsx)("source",{src:n,type:"video/mp4"}),"Your browser does not support the video tag."]})})}),(0,l.jsxs)("div",{className:"tw-flex tw-items-center tw-gap-1 tw-my-2 tw-text-xs tw-text-gray-500 tw-transition-opacity tw-duration-200 tw-opacity-75 hover:tw-opacity-100",children:[(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"tw-w-4 tw-h-4",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 10.5l4.72-4.72a.75.75 0 011.28.53v11.38a.75.75 0 01-1.28.53l-4.72-4.72M4.5 18.75h9a2.25 2.25 0 002.25-2.25v-9a2.25 2.25 0 00-2.25-2.25h-9A2.25 2.25 0 002.25 7.5v9a2.25 2.25 0 002.25 2.25z"})}),(0,l.jsx)("span",{children:"Video attached"})]})]}),(0,l.jsx)("div",{className:"message-timestamp-hover "+(a?"tw-right-4":"tw-left-4"),children:r})]})},F=t=>{let{content:e,mediaUrl:n,isUser:r=!1}=t;const s=(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),w=n?n.split("/").pop()||"Document":"",[i,o]=a.useState("Calculating...");return a.useEffect((()=>{n&&(async t=>{try{const e=(await fetch(t,{method:"HEAD"})).headers.get("content-length");return e?(t=>{if(0===t)return"0 B";const e=Math.floor(Math.log(t)/Math.log(1024));return`${parseFloat((t/Math.pow(1024,e)).toFixed(2))} ${["B","KB","MB","GB"][e]}`})(parseInt(e)):null}catch{return null}})(n).then((t=>{o(t||"Size unknown")}))}),[n]),(0,l.jsxs)("div",{className:"tw-flex tw-flex-col tw-w-full "+(r?"tw-items-end":""),children:[e&&(0,l.jsx)("div",{className:`\n          tw-max-w-[80%] tw-relative\n          tw-rounded-2xl\n          tw-text-gray-900\n          tw-transition-all tw-duration-200\n          hover:tw-shadow-md message-content\n          tw-text-sm tw-px-4 tw-py-2\n          tw-flex tw-flex-col tw-gap-3\n          tw-mb-1\n          ${r?"tw-bg-gray-50 hover:tw-bg-gray-100 user-message":"ai-message"}\n        `,children:(0,l.jsx)("div",{className:"tw-text-gray-800 ",dangerouslySetInnerHTML:{t:(0,d.vY)(e)}})}),n&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{children:(0,l.jsxs)("div",{className:"tw-flex tw-flex-col tw-rounded-lg tw-overflow-hidden tw-border tw-border-gray-200 tw-bg-gray-100 tw-shadow-lg",children:[(0,l.jsxs)("div",{className:"tw-relative tw-bg-gray-200 tw-h-[200px] tw-flex tw-items-center tw-justify-center",children:[(0,l.jsx)("div",{className:"tw-absolute tw-inset-0 tw-opacity-50",children:(0,l.jsx)("div",{className:"tw-h-full tw-w-full tw-bg-gray-300"})}),(0,l.jsxs)("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"tw-z-10 tw-flex tw-flex-col tw-items-center tw-justify-center tw-gap-1 tw-text-gray-600 hover:tw-text-gray-800",children:[(0,l.jsx)("div",{className:"tw-bg-white tw-p-2 tw-rounded-full tw-shadow-md",children:(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"tw-w-8 tw-h-8",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 6H5.25A2.25 2.25 0 003 8.25v10.5A2.25 2.25 0 005.25 21h10.5A2.25 2.25 0 0018 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"})})}),(0,l.jsx)("span",{className:"tw-text-lg ",children:"View"})]})]}),(0,l.jsxs)("div",{className:"tw-p-3 tw-bg-white tw-flex tw-items-start tw-gap-3",children:[(0,l.jsx)("div",{className:"tw-text-blue-600",children:(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"tw-w-6 tw-h-6",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})})}),(0,l.jsxs)("div",{className:"tw-flex tw-flex-col tw-flex-1",children:[(0,l.jsx)("div",{className:" tw-text-gray-800 tw-truncate",children:w}),(0,l.jsx)("div",{className:"tw-text-sm tw-text-gray-500",children:i})]})]})]})}),(0,l.jsxs)("div",{className:"tw-flex tw-items-center tw-gap-1 tw-my-2 tw-text-xs tw-text-gray-500 tw-transition-opacity tw-duration-200 tw-opacity-75 hover:tw-opacity-100",children:[(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"tw-w-4 tw-h-4",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})}),(0,l.jsx)("span",{children:"Document attached"})]})]}),(0,l.jsx)("div",{className:"message-timestamp-hover "+(r?"tw-right-4":"tw-left-4"),children:s})]})},H=t=>{let{content:e,imageUrl:n,isUser:a=!1}=t;const r=(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return(0,l.jsxs)("div",{className:"tw-flex tw-flex-col tw-w-full "+(a?"tw-items-end":""),children:[e&&(0,l.jsx)("div",{className:`\n            tw-max-w-[80%] tw-relative\n            tw-rounded-2xl\n            tw-text-gray-900\n            tw-transition-all tw-duration-200\n            hover:tw-shadow-md message-content\n            tw-text-sm tw-px-4 tw-py-2\n            tw-flex tw-flex-col tw-gap-3\n            tw-mb-1\n            ${a?"tw-bg-gray-50 hover:tw-bg-gray-100 user-message":"ai-message"}\n          `,children:(0,l.jsx)("div",{className:"tw-text-gray-800 ",dangerouslySetInnerHTML:{t:(0,d.vY)(e)}})}),n&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{children:(0,l.jsx)("div",{className:"tw-flex tw-justify-center tw-items-center tw-h-[200px] tw-rounded-lg tw-overflow-hidden tw-shadow-lg",children:(0,l.jsx)("img",{src:n,alt:"Attached",className:"tw-object-contain tw-max-h-[200px] tw-w-auto tw-rounded-lg",loading:"lazy"})})}),(0,l.jsxs)("div",{className:"tw-flex tw-items-center tw-gap-1 tw-my-2 tw-text-xs tw-text-gray-500 tw-transition-opacity tw-duration-200 tw-opacity-75 hover:tw-opacity-100",children:[(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"tw-w-4 tw-h-4",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})}),(0,l.jsx)("span",{children:"Image attached"})]})]}),(0,l.jsx)("div",{className:"message-timestamp-hover "+(a?"tw-right-4":"tw-left-4"),children:r})]})},$=t=>{let{contentType:e="text",content:n,mediaUrl:a,options:r,imageUrl:s,onSendMessage:w,isStreaming:i=!1,isUser:o=!1,typedElementRef:c,follow_up_questions:d}=t;const m=t=>{w(t)};switch(e){case"follow_up_questions":return(0,l.jsx)(j,{questions:d||[],handleSendMessage:async t=>{await Promise.resolve(w(t))},title:n||"Follow up questions",variant:"follow-up"});case"question":return(0,l.jsx)(_,{content:n,options:r,onSelect:m,isUser:o});case"image":return(0,l.jsx)(U,{content:n,mediaUrl:a,isUser:o});case"video":return(0,l.jsx)(z,{content:n,mediaUrl:a,isUser:o});case"document":return(0,l.jsx)(F,{content:n,mediaUrl:a,isUser:o});case"text_image":return(0,l.jsx)(H,{content:n,imageUrl:s,isUser:o});default:return(0,l.jsx)(S,{content:n,isStreaming:i,isUser:o,typedElementRef:c})}},B=t=>{let{message:e,isStreaming:n=!1,isCurrentMessage:r=!1,chatContentRef:s,onSendMessage:w}=t;const i="user"===e.sender,o=(0,a.useRef)(null),m=(0,a.useRef)(null),[h,u]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{if(!i&&n&&!e.hasTyped&&o.current){m.current?.destroy();const t={strings:[(0,d.vY)(e.content)],typeSpeed:20,showCursor:!0,cursorChar:"|",contentType:"html",onComplete:t=>{t.cursor&&t.cursor.remove(),e.hasTyped=!0,u(!0)},onStringTyped:()=>{s.current&&(s.current.scrollTop=s.current.scrollHeight)}};m.current=new c.A(o.current,t)}else n&&!e.hasTyped||(m.current&&(m.current.destroy(),m.current=null),o.current&&(o.current.innerHTML=(0,d.vY)(e.content)),h||u(!0));return()=>{m.current?.destroy(),m.current=null}}),[i,n,e.content,e.hasTyped]),(0,l.jsx)("div",{className:`\n        tw-flex tw-flex-col\n        ${i?"tw-items-end":"tw-items-start"}\n        ${r?"user-message-animate":""}\n        tw-w-full\n      `,children:(0,l.jsx)("div",{className:`tw-flex tw-flex-col ${i?"tw-items-end":"tw-items-start"} tw-w-full tw-gap-2`,children:(0,l.jsxs)("div",{className:"tw-w-full",children:[(0,l.jsx)($,{contentType:e.content_type,content:e.content,mediaUrl:e.media_url,imageUrl:e.image_url,options:e.options,onSendMessage:w,isStreaming:n,isUser:i,typedElementRef:o}),!i&&h&&e.additional_responses&&e.additional_responses.length>0&&(0,l.jsx)("div",{className:"tw-flex tw-flex-col tw-gap-4 tw-mt-4 tw-pt-4 additional-responses",children:e.additional_responses.map(((t,e)=>(0,l.jsx)($,{contentType:t.content_type,content:t.content,mediaUrl:t.media_url,options:t.options,follow_up_questions:t.follow_up_questions,onSendMessage:w,isUser:i},e)))})]})})})},T=a.memo(B),A=t=>{let{statusMessage:e="Gathering your information..."}=t;return(0,l.jsxs)("div",{className:"tw-flex tw-items-center tw-bg-[rgb(224,232,232)] tw-border tw-border-[#486966] tw-rounded-xl tw-p-4 tw-mb-2 tw-max-w-[24rem]",children:[(0,l.jsxs)("div",{className:"tw-grid tw-grid-cols-2 tw-gap-1 tw-mr-3 tw-transform tw-rotate-45 tw-shrink-0",children:[(0,l.jsx)("div",{className:"tw-w-[0.3rem] tw-h-[0.3rem] tw-bg-[#486966] tw-rounded-full tw-typing-dot-new"}),(0,l.jsx)("div",{className:"tw-w-[0.3rem] tw-h-[0.3rem] tw-bg-[#486966] tw-rounded-full tw-typing-dot-new"}),(0,l.jsx)("div",{className:"tw-w-[0.3rem] tw-h-[0.3rem] tw-bg-[#486966] tw-rounded-full tw-typing-dot-new"}),(0,l.jsx)("div",{className:"tw-w-[0.3rem] tw-h-[0.3rem] tw-bg-[#486966] tw-rounded-full tw-typing-dot-new"})]}),(0,l.jsx)("div",{className:"tw-font-medium tw-text-sm tw-text-gray-800",children:e})]})},O=t=>{let{previousMessages:e,currentChat:n,isTyping:r,isFullscreen:s,chatContentRef:w,welcomeMessages:i,popularQuestions:c,popularQuestionsTitle:d,onSendMessage:m,statusMessage:h}=t;const u=0===e.length&&!n.user&&!n.ai&&!r,g=(0,a.useRef)(null);return(0,a.useEffect)((()=>{const t=function(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];w.current&&!u&&w.current.scrollTo({top:w.current.scrollHeight,behavior:t?"smooth":"auto"})};u||t(!1);const e=new MutationObserver((()=>{u||t(!0)}));return w.current&&!u&&e.observe(w.current,{childList:!0,subtree:!0,characterData:!0}),()=>e.disconnect()}),[e,n,r,u]),(0,a.useEffect)((()=>{w.current&&!u&&w.current.scrollTo({top:w.current.scrollHeight,behavior:"smooth"})}),[n.ai?.content,u]),(0,l.jsxs)("div",{ref:w,className:`\n        tw-absolute tw-inset-0 tw-overflow-y-auto\n        tw-overscroll-none tw-p-4 tw-space-y-4\n        hide-scrollbar\n        ${u?"tw-h-auto":"tw-h-full"}\n      `,style:{WebkitOverflowScrolling:"touch"},children:[u&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"tw-text-center tw-px-6 welcome-gradient "+(s?"tw-text-3xl tw-pt-20 tw-font-bold":"tw-pt-4 tw-h-14"),children:(0,l.jsx)(o.i,{strings:i?.map((t=>t?.length>60?t.slice(0,60)+"...":t)),typeSpeed:20,backSpeed:30,backDelay:3e3,loop:!0,smartBackspace:!0,shuffle:!1,typedRef:t=>{g.current=t}},u?"active":"inactive")}),c&&c.length>0&&(0,l.jsx)("div",{className:s?"tw-pt-2":"tw-pt-6",children:(0,l.jsx)(j,{questions:c,handleSendMessage:async t=>{await m(t)},title:d})})]}),(0,l.jsxs)("div",{className:"tw-flex tw-flex-col tw-space-y-4 "+(u?"":"tw-min-h-full"),children:[e.map((t=>(0,l.jsx)(T,{message:t,isStreaming:!1,isCurrentMessage:!1,chatContentRef:w,onSendMessage:m},t.id))),n.user&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(T,{message:n.user,isStreaming:!1,isCurrentMessage:!0,chatContentRef:w,onSendMessage:m}),r&&(0,l.jsx)(A,{statusMessage:h})]}),!r&&n.ai&&(0,l.jsx)(T,{message:n.ai,isStreaming:n.ai.isStreaming,isCurrentMessage:!0,chatContentRef:w,onSendMessage:m},`ai-${n.ai.id}`)]})]})};var R=n(9879);const W=t=>{let{error:e,uploadedFileName:n,onSendMessage:r,onFileUpload:s,onRemoveFile:w,isFullscreen:i,showWelcome:o}=t;const[c,d]=(0,a.useState)(""),[m,h]=(0,a.useState)(!1),u=(0,a.useRef)(null),g=(0,a.useCallback)((()=>{(c.trim()||n)&&(r(c),d(""))}),[c,r,n]),v=c.trim().length>0||!!n;return(0,l.jsxs)("div",{className:`\n      tw-transition-transform tw-duration-500 tw-bg-white tw-p-4 tw-sticky tw-bottom-0 tw-mt-4\n      ${i&&o?"tw-transform -tw-translate-y-14":"tw-transform tw-translate-y-0 tw-border-t tw-border-gray-100"}\n    `,children:[(0,l.jsxs)("div",{className:"tw-flex tw-flex-col tw-rounded-xl tw-border tw-border-gray-200 tw-bg-white focus-within:tw-shadow-md",children:[(0,l.jsxs)("div",{className:"tw-relative",children:[(0,l.jsx)("textarea",{value:c,onChange:t=>{d(t.target.value)},onKeyDown:t=>{"Enter"!==t.key||t.shiftKey||(t.preventDefault(),g())},onFocus:()=>h(!0),onBlur:()=>!c&&h(!1),placeholder:"Ask me anything...",className:`\n              tw-w-full tw-p-3 tw-text-gray-800 tw-placeholder-gray-400\n              tw-bg-transparent tw-border-none tw-resize-none\n              focus:tw-ring-0 focus:tw-outline-none focus:tw-shadow-none\n              tw-transition-all tw-duration-200\n              ${m?"tw-min-h-[120px]":"tw-min-h-[60px]"}\n            `,maxLength:2e3,"aria-label":"Chat message input"}),(0,l.jsxs)("div",{className:"tw-absolute tw-bottom-1 tw-right-2 tw-text-xs tw-text-gray-400",children:[c.length,"/",2e3]})]}),n&&(0,l.jsxs)("div",{className:"tw-px-3 tw-py-2 tw-text-sm tw-text-gray-600 tw-border-t tw-border-gray-100 tw-flex tw-justify-between tw-items-center",children:[(0,l.jsx)("span",{className:"tw-truncate",title:n,children:n}),(0,l.jsx)("button",{onClick:()=>{w(),u.current&&(u.current.value="")},className:"tw-text-red-500 hover:tw-text-red-700 tw-ml-2 tw-flex-shrink-0","aria-label":"Remove attached file",children:(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"tw-w-4 tw-h-4",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,l.jsxs)("div",{className:"tw-flex tw-items-center tw-justify-between tw-border-t tw-border-gray-100 tw-p-2",children:[(0,l.jsxs)("div",{className:"tw-flex tw-items-center tw-gap-2",children:[(0,l.jsx)("input",{type:"file",className:"tw-hidden",accept:"image/*",ref:u,onChange:t=>{const e=t.target.files?.[0];e&&s(e),t.target&&(t.target.value="")}}),(0,l.jsx)("button",{onClick:()=>{u.current?.click()},className:"tw-p-2 tw-text-gray-500 hover:primary-text tw-transition-colors","aria-label":"Attach image file",children:(0,l.jsx)(R.jEG,{className:"tw-transform tw-rotate-45",size:20})}),e&&(0,l.jsx)("div",{className:"tw-text-xs tw-text-red-500",children:e})]}),v&&(0,l.jsx)("button",{onClick:g,className:"tw-flex tw-items-center tw-justify-center tw-w-8 tw-h-8 tw-rounded-lg primary-bg tw-text-white hover:primary-darken tw-transition-all tw-duration-200 tw-transform hover:tw-scale-110 active:tw-scale-95 disabled:tw-opacity-50","aria-label":"Send message",children:(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",className:"tw-w-4 tw-h-4",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"})})})]})]}),(0,l.jsx)("div",{className:"tw-text-center tw-text-gray-500 tw-text-xs tw-mt-3",children:"Powered by LAWMA.ai "})]})},I=t=>{let{primaryColor:e,isOpen:n,isTyping:r,previousMessages:w,currentChat:i,error:o,uploadedFileName:c,chatContentRef:d,isFullscreen:m,name:h,onClose:u,onClearChat:g,onSendMessage:v,onFileUpload:f,onRemoveFile:p,onToggleFullscreen:x,welcomeMessages:y,popularQuestions:b,popularQuestionsTitle:N,statusMessage:M}=t;const k=0===w.length&&!i.user&&!i.ai&&!r,[C,L]=(0,a.useState)(!1);(0,a.useEffect)((()=>{const t=()=>{L(window.innerWidth<512)};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)}),[]);const j=n?"tw-translate-x-0":"tw-translate-x-full";return(0,l.jsx)("div",{className:`\n        tw-fixed tw-inset-y-0 tw-right-0\n        ${m||C?"tw-w-full":"tw-w-[24rem]"}\n        tw-z-[9999] tw-transform\n        tw-transition-all tw-duration-300 tw-ease-out\n        tw-flex tw-flex-col chat-window\n        ${j}\n        ${n?"tw-opacity-100 tw-scale-100":"tw-opacity-0 tw-scale-95"}\n      `,role:"dialog","aria-modal":"true","aria-labelledby":"chat-widget-title",hidden:!n,children:(0,l.jsxs)("div",{className:"tw-h-screen tw-bg-white tw-shadow-xl tw-flex tw-flex-col tw-will-change-transform tw-overflow-hidden",children:[(0,l.jsx)(s,{onClose:u,onClearChat:g,primaryColor:e,isFullscreen:m,onToggleFullscreen:x,name:h}),(0,l.jsxs)("div",{className:"tw-flex-1 tw-w-full tw-mx-auto tw-flex tw-flex-col tw-overflow-hidden "+(m?"tw-max-w-[1100px]":""),children:[(0,l.jsx)("div",{className:"tw-relative tw-flex-1 tw-min-h-0",children:(0,l.jsx)(O,{previousMessages:w,currentChat:i,isTyping:r,isFullscreen:m,chatContentRef:d,welcomeMessages:y,onSendMessage:v,popularQuestions:b,popularQuestionsTitle:N,statusMessage:M})}),(0,l.jsx)(W,{error:o,uploadedFileName:c,primaryColor:e,onSendMessage:v,onFileUpload:f,onRemoveFile:p,isFullscreen:m,showWelcome:k})]})]})})}}}]);